<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Cross-Origin-Opener-Policy" content="same-origin-allow-popups">
  <meta http-equiv="Cross-Origin-Embedder-Policy" content="require-corp">
  <title>Diet Dashboard</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://api.fontshare.com/v2/css?f[]=cal-sans@400,500,600&display=swap" rel="stylesheet">
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="../firebase-config.js"></script>
  <script src="./app.js"></script>
</head>
<body>
  <div class="dashboard-container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="logo">
        <i class='bx bx-pulse'></i>
        <span>CoreAI Diet</span>
      </div>
      <nav class="nav-menu">
        <a href="#overview" class="active"><i class='bx bxs-dashboard'></i> Overview</a>
        <a href="#meal-tracking"><i class='bx bx-food-menu'></i> Meal Tracking</a>
        <a href="#meal-ai"><i class='bx bx-camera'></i> Meal AI</a>
        <a href="#voice-assistant"><i class='bx bx-microphone'></i> Voice Assistant</a>
        <a href="#food-charts"><i class='bx bx-line-chart'></i> Food Charts</a>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Header -->
      <header class="dashboard-header">
        <div class="header-content">
          <h1>Diet Dashboard</h1>
          <div class="user-profile">
            <span class="user-name">Loading...</span>
            <button class="logout-btn"><i class='bx bx-log-out'></i></button>
          </div>
        </div>
      </header>

      <!-- Overview Section -->
      <section id="overview" class="dashboard-section">
        <div class="overview-grid">
          <div class="diet-summary card">
            <h2>Your Diet Plan</h2>
            <div class="diet-details">Loading...</div>
          </div>
          <div class="progress-card card">
            <h2>Today's Progress</h2>
            <div class="progress-stats">
              <div class="stat">
                <span class="label">Calories</span>
                <div class="progress-bar">
                  <div class="progress" style="width: 0%"></div>
                </div>
              </div>
              <div class="stat">
                <span class="label">Protein</span>
                <div class="progress-bar">
                  <div class="progress" style="width: 0%"></div>
                </div>
              </div>
              <div class="stat">
                <span class="label">Carbs</span>
                <div class="progress-bar">
                  <div class="progress" style="width: 0%"></div>
                </div>
              </div>
              <div class="stat">
                <span class="label">Fats</span>
                <div class="progress-bar">
                  <div class="progress" style="width: 0%"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Meal Tracking Section -->
      <section id="meal-tracking" class="dashboard-section">
        <div class="meal-tracking-container">
          <div class="meal-log card">
            <h2>Log Your Meal</h2>
            <form id="meal-log-form">
              <select id="meal-type" required>
                <option value="">Select Meal Type</option>
                <option value="breakfast">Breakfast</option>
                <option value="lunch">Lunch</option>
                <option value="dinner">Dinner</option>
                <option value="snack">Snack</option>
              </select>
              <input type="text" id="food-item" placeholder="Food Item" required>
              <input type="number" id="portion-size" placeholder="Portion Size (g)" required>
              <button type="submit" class="btn-primary">Log Meal</button>
            </form>
          </div>
          <div class="meal-history card">
            <h2>Today's Meals</h2>
            <div class="meal-list"></div>
          </div>
        </div>
      </section>

      <!-- Meal AI Section -->
      <section id="meal-ai" class="dashboard-section">
        <div class="meal-ai-container card">
          <h2>Meal AI Analysis</h2>
          <div class="image-upload-container">
            <div class="upload-area" id="upload-area">
              <i class='bx bx-camera'></i>
              <p>Drop your food image here or click to upload</p>
              <input type="file" id="meal-image-input" accept="image/*" hidden>
            </div>
            <button class="camera-btn"><i class='bx bx-camera'></i> Take Photo</button>
          </div>
          <div class="analysis-results" style="display: none">
            <div class="image-preview"></div>
            <div class="analysis-data"></div>
          </div>
        </div>
      </section>

      <!-- Voice Assistant Section -->
      <section id="voice-assistant" class="dashboard-section">
        <div class="voice-assistant-container card">
          <h2>Voice Assistant</h2>
          <div class="voice-interface">
            <!-- Voice AI interface will be implemented here -->
          </div>
        </div>
      </section>

      <!-- Food Charts Section -->
      <section id="food-charts" class="dashboard-section">
        <div class="charts-container">
          <div class="chart-card card">
            <h2>Nutrition Distribution</h2>
            <canvas id="nutrition-chart"></canvas>
          </div>
          <div class="chart-card card">
            <h2>Weekly Progress</h2>
            <canvas id="progress-chart"></canvas>
          </div>
        </div>
      </section>
    </main>
  </div>
</body>
</html>